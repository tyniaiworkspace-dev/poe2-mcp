# Server Configuration
HOST=127.0.0.1
PORT=8080
DEBUG=true
ENV=development

# Database
DATABASE_URL=sqlite:///data/poe2_optimizer.db
DB_POOL_SIZE=10
DB_ECHO=false

# Redis Cache (optional)
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=false

# =============================================================================
# REQUIRED: Trade API Authentication
# =============================================================================
# This is the ONLY required credential for basic MCP functionality.
#
# AUTOMATED SETUP (Recommended - 2 minutes):
#   1. Run: python scripts/setup_trade_auth.py
#   2. Browser opens, you log in to pathofexile.com
#   3. Script automatically extracts and saves your cookie
#   4. Done! See TRADE_AUTH_SETUP_GUIDE.md for details.
#
# MANUAL SETUP (Fallback):
#   1. Login to pathofexile.com in your browser
#   2. Open DevTools (F12) -> Application/Storage -> Cookies
#   3. Find cookie named "POESESSID" and copy its value (32-character hex)
#   4. Paste the value below
#
POESESSID=

# =============================================================================
# OPTIONAL: OAuth Credentials (Not Yet Implemented)
# =============================================================================
# These are for the official PoE API OAuth flow.
# Currently NOT REQUIRED - the MCP uses public API endpoints and poe.ninja.
# When implemented, you can apply for these at:
#   https://www.pathofexile.com/developer/docs
#
# Leave these blank for now:
POE_CLIENT_ID=
POE_CLIENT_SECRET=

# =============================================================================
# OPTIONAL: AI Features (Deprecated - Not Recommended)
# =============================================================================
# Modern MCP Architecture:
#   - MCP provides game data and calculations
#   - Claude (the AI client) handles analysis and recommendations
#   - No AI keys needed in the MCP server itself
#
# Legacy Features (if you really want them):
#   - natural_language_query tool (redundant when using Claude Desktop)
#   - analyze_character AI recommendations (Claude does this better)
#
# Recommendation: Leave ENABLE_AI_INSIGHTS=false
#
ENABLE_AI_INSIGHTS=false
AI_PROVIDER=anthropic
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
AI_MODEL=claude-sonnet-4-20250514
AI_MAX_TOKENS=4096
AI_TEMPERATURE=0.7

# Rate Limiting
POE_API_RATE_LIMIT=10  # requests per minute
POE2DB_RATE_LIMIT=30
ENABLE_CACHING=true
CACHE_TTL=3600  # seconds

# Feature Flags
ENABLE_TRADE_INTEGRATION=true
ENABLE_POB_EXPORT=true
ENABLE_AI_INSIGHTS=true
ENABLE_BUILD_SHARING=true

# Web Interface
WEB_PORT=3000
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
MAX_SAVED_BUILDS_PER_USER=50

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/poe2_optimizer.log
LOG_ROTATION=100 MB
LOG_RETENTION=7 days

# =============================================================================
# REQUIRED: Security Keys
# =============================================================================
# These are REQUIRED for the server to start. Generate unique secrets for your
# installation using the command below. NEVER use these example values in production!
#
# GENERATE YOUR OWN:
#   python -c "import secrets; print('SECRET_KEY=' + secrets.token_hex(32)); print('ENCRYPTION_KEY=' + secrets.token_hex(32))"
#
# Copy the output and replace the values below:
SECRET_KEY=09c97f98e2e06405dfb3364fc713440d705846c59c24f78b67801ac36182f035
ENCRYPTION_KEY=404e1aad71590b4b8a14b5cf325c5dc37c91bfdccd318556f49503be57164072
SESSION_TIMEOUT=86400  # 24 hours

# Performance
MAX_WORKERS=4
REQUEST_TIMEOUT=30
CALCULATION_TIMEOUT=10

# Data Sources
POE2DB_BASE_URL=https://poe2db.tw
POE_NINJA_BASE_URL=https://poe.ninja
POE_OFFICIAL_API=https://www.pathofexile.com/api

# Monitoring (optional)
SENTRY_DSN=
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090
